<script src="bower_components/zxcvbn/dist/zxcvbn.js"></script>
<div class="logo">
  <img src="../../../assets/arrow-prev-svgrepo-com.svg"  [routerLink]="['/']">
</div>
<div class="container">
  <h1><strong>Register to Stree</strong></h1>


  <form *ngIf="registerForm" [formGroup]="registerForm" (ngSubmit)="onRegisterSubmit()">

    <div class="form-floating mb-3">
      <input type="text" class="form-control" id="fullName" formControlName="fullName" placeholder="Full Name" ngModel pattern="[a-zA-Z ]*" required>
      <label for="fullName">Full Name</label>
      <div *ngIf="registerForm.get('fullName')?.invalid && registerForm.get('fullName')?.touched" class="text-danger">
        Full Name is required and must be text.
      </div>
      </div>
      
    <div class="form-floating mb-3">
        <input type="email" class="form-control" id="floatingInput" formControlName="email" placeholder="Email" required>
        <label for="floatingInput">Email address</label>
        
        <div *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched" class="text-danger">
          Please enter a valid email address.
        </div>
        </div>

      
    <div class="form-floating mb-3">
      <input type="tel" class="form-control" id="mobile" formControlName="mobile" placeholder="Mobile Number" required>
      <label for="mobile" >Mobile Number</label>
      <div *ngIf="registerForm.get('mobile')?.invalid && registerForm.get('mobile')?.touched" class="text-danger">
        Mobile number must be a number at least 9 characters long.
      </div>
    </div>

    <div class="form-floating mb-3">

        <input type="password" class="form-control" id="password" formControlName="password" placeholder="Password" required>
      <label for="password" >Password</label>
      <div *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched" class="text-danger">
        Password must be at least 9 characters long.
      </div>

      <div class="password-strength-meter mt-1">
        <div class="progress">
          <div class="progress-bar" [ngClass]="getPasswordStrengthColor(0)" [style.width.%]="100" [hidden]="getPasswordStrength() < 1"></div>
        </div>

        <div class="progress">
          <div class="progress-bar" [ngClass]="getPasswordStrengthColor(1)" [style.width.%]="100" [hidden]="getPasswordStrength() < 2"></div>
        </div>

        <div class="progress">
          <div class="progress-bar" [ngClass]="getPasswordStrengthColor(2)" [style.width.%]="100" [hidden]="getPasswordStrength() < 3"></div>
        </div>
        
        <div class="progress">
          <div class="progress-bar" [ngClass]="getPasswordStrengthColor(3)" [style.width.%]="100" [hidden]="getPasswordStrength() < 4"></div>
        </div>
      </div>      
      
    </div>

    <div class="form-floating mb-3">
        <input type="password" class="form-control" id="confirmPassword" formControlName="confirmPassword" placeholder="confirmPassword" required>
        <label for="confirmPassword" >Confirm Password</label>
        <div *ngIf="(registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched) || !confirmPasswordMatched"  class="text-danger">
          The password confirmation does not match
        </div>
    </div>

    <button type="submit" class="btn" [disabled]="registerForm.invalid">Register</button>
  </form>
</div>

<div class="footer">
  <p>By registering you agree to <span class="pink">Terms & Conditions</span> and <span class="pink">Privacy Policy</span> of Stree</p>
</div>
